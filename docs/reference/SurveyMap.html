<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SurveyMap — SurveyMap • mrpkit</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="SurveyMap — SurveyMap" />
<meta property="og:description" content="An R6 SurveyMap object holds the mapping
between a set of items in a survey and a population dataset.
The label is the item label in each dataset and the values
is a list of all possible values.  The values for the survey
and population must be aligned, i.e., the lists must have the
same number of elements and the values at index i in each list
are equivalent.  If there is a meaningful ordering over the values,
they should be listed in that order, either descending or ascending." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mrpkit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Object and Methods</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/mrpkit_workflow.html">Getting Started</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mitzimorris/mrp-kit">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SurveyMap</h1>
    
    <div class="hidden name"><code>SurveyMap.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>An <a href='https://r6.r-lib.org/reference/R6Class.html'>R6</a> <code>SurveyMap</code> object holds the mapping
between a set of items in a survey and a population dataset.
The label is the item label in each dataset and the values
is a list of all possible values.  The values for the survey
and population must be aligned, i.e., the lists must have the
same number of elements and the values at index i in each list
are equivalent.  If there is a meaningful ordering over the values,
they should be listed in that order, either descending or ascending.</p>
    </div>



    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Public methods</h3>

<ul>
<li><p><a href='#method-new'><code>SurveyMap$new()</code></a></p></li>
<li><p><a href='#method-print'><code>SurveyMap$print()</code></a></p></li>
<li><p><a href='#method-add'><code>SurveyMap$add()</code></a></p></li>
<li><p><a href='#method-delete'><code>SurveyMap$delete()</code></a></p></li>
<li><p><a href='#method-replace'><code>SurveyMap$replace()</code></a></p></li>
<li><p><a href='#method-validate'><code>SurveyMap$validate()</code></a></p></li>
<li><p><a href='#method-mapping'><code>SurveyMap$mapping()</code></a></p></li>
<li><p><a href='#method-tabulate'><code>SurveyMap$tabulate()</code></a></p></li>
<li><p><a href='#method-fit'><code>SurveyMap$fit()</code></a></p></li>
<li><p><a href='#method-item_map'><code>SurveyMap$item_map()</code></a></p></li>
<li><p><a href='#method-sample'><code>SurveyMap$sample()</code></a></p></li>
<li><p><a href='#method-population'><code>SurveyMap$population()</code></a></p></li>
<li><p><a href='#method-poststrat_data'><code>SurveyMap$poststrat_data()</code></a></p></li>
<li><p><a href='#method-mapped_sample_data'><code>SurveyMap$mapped_sample_data()</code></a></p></li>
<li><p><a href='#method-mapped_population_data'><code>SurveyMap$mapped_population_data()</code></a></p></li>
<li><p><a href='#method-clone'><code>SurveyMap$clone()</code></a></p></li>
</ul>
<p><hr>
<a id="method-new"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>new()</code></h3>
<p>Create a new SurveyMap object</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='va'>sample</span>, <span class='va'>population</span>, <span class='va'>...</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>sample</code></dt><dd><p>The <a href='SurveyData.html'>SurveyData</a> object corresponding to the sample data.</p></dd>

<dt><code>population</code></dt><dd><p>The <a href='SurveyData.html'>SurveyData</a> object corresponding to the population data.</p></dd>

<dt><code>...</code></dt><dd><p><a href='QuestionMap.html'>QuestionMap</a> objects.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-print"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code><a href='https://rdrr.io/r/base/print.html'>print()</a></code></h3>
<p>Print a summary of the mapping.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>print</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>...</code></dt><dd><p>Currently ignored.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-add"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>add()</code></h3>
<p>Add new <a href='QuestionMap.html'>QuestionMap</a>s.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>add</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>...</code></dt><dd><p>The <a href='QuestionMap.html'>QuestionMap</a>s to add.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-delete"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>delete()</code></h3>
<p>Delete <a href='QuestionMap.html'>QuestionMap</a>s.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>delete</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>...</code></dt><dd><p>The <a href='QuestionMap.html'>QuestionMap</a>s to delete.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-replace"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code><a href='https://rdrr.io/r/base/replace.html'>replace()</a></code></h3>
<p>Replace one <a href='QuestionMap.html'>QuestionMap</a> with another.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>replace</span><span class='op'>(</span><span class='va'>old_question</span>, <span class='va'>new_question</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>old_question</code></dt><dd><p>The <a href='QuestionMap.html'>QuestionMap</a> object to replace.</p></dd>

<dt><code>new_question</code></dt><dd><p>The <a href='QuestionMap.html'>QuestionMap</a> object to use instead.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-validate"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>validate()</code></h3>
<p>Validate the mapping</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>validate</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<p><hr>
<a id="method-mapping"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>mapping()</code></h3>
<p>The mapping method uses the given maps between questions to create new sample and population data
that has unified variable names (i.e., if the underlying construct is called <code>age</code>, both sample and population will have
an <code>age</code> column, even if in the the raw data both had different variable names). The method also unifies the levels of each
variable in the sample and population so that the maximum set of consistent levels is created. Names of these new levels are
made according the the sample level names. If multiple levels are combined, the new name will be existing levels seperated by a
<code><a href='https://rdrr.io/r/base/Arithmetic.html'>+</a></code>.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>mapping</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<p><hr>
<a id="method-tabulate"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code><a href='https://rdrr.io/r/base/tabulate.html'>tabulate()</a></code></h3>
<p>Prepare the poststratification table</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>tabulate</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>...</code></dt><dd><p>The variables to include.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-fit"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>fit()</code></h3>
<p>Fit a model.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>fit</span><span class='op'>(</span><span class='va'>fun</span>, <span class='va'>formula</span>, <span class='va'>...</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>fun</code></dt><dd><p>The model fitting function to use. For example,
<code>fun=rstanarm::stan_glmer</code>, <code>fun=brms::brm</code>, <code>fun=lme4::glmer</code>.
If using a custom <code>fun</code> it must have a <code>data</code> argument that accepts
a data frame (like standard R modeling functions).</p></dd>

<dt><code>formula</code></dt><dd><p>The model formula. Can be either a string or a formula
object.</p></dd>

<dt><code>...</code></dt><dd><p>Arguments other than <code>formula</code> and <code>data</code> to pass to <code>fun</code>.
The data argument will be automatically specified internally.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>A <a href='SurveyFit.html'>SurveyFit</a> object.</p>
<p><hr>
<a id="method-item_map"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>item_map()</code></h3>
<p>Access the <code>item_map</code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>item_map</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<p><hr>
<a id="method-sample"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code><a href='https://rdrr.io/r/base/sample.html'>sample()</a></code></h3>
<p>Access the <a href='SurveyData.html'>SurveyData</a> object containing the sample data</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>sample</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<p><hr>
<a id="method-population"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>population()</code></h3>
<p>Access the <a href='SurveyData.html'>SurveyData</a> object containing the population data</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>population</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<p><hr>
<a id="method-poststrat_data"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>poststrat_data()</code></h3>
<p>Access the poststratification data frame created by the <code>tabulate</code> method</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>poststrat_data</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<p><hr>
<a id="method-mapped_sample_data"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>mapped_sample_data()</code></h3>
<p>Access the data frame containing the mapped sample data
created by the <code>mapping</code> method</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>mapped_sample_data</span><span class='op'>(</span>key <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>key</code></dt><dd><p>Should the <code>.key</code> column be included? This column just
indicates the original order of the rows and is primarily intended
for internal use.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-mapped_population_data"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>mapped_population_data()</code></h3>
<p>Access the data frame containing the mapped population data
created by the <code>mapping</code> method</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>mapped_population_data</span><span class='op'>(</span>key <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>key</code></dt><dd><p>Should the <code>.key</code> column be included? This column just
indicates the original order of the rows and is primarily intended
for internal use.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-clone"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>clone()</code></h3>
<p>The objects of this class are cloneable with this method.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>clone</span><span class='op'>(</span>deep <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p></dd>

</dl><p></div></p>



    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>shape_survey</span><span class='op'>)</span>
</div><div class='output co'>#&gt;     age gender     vote_for   highest_educ   state   y        wt
#&gt; 1 56-65   male           BP   some college State D  no  79.90290
#&gt; 2 46-55   male Circle Party 4-year college State B yes  89.12213
#&gt; 3 36-45   male Circle Party     associates State D  no  92.90569
#&gt; 4 18-25   male    Box Party    high school State B yes  80.78384
#&gt; 5 56-65 female           BP    high school State A yes  89.85756
#&gt; 6 56-65 female Circle Party 4-year college State B yes 117.04200</div><div class='input'><span class='va'>box_prefs</span> <span class='op'>&lt;-</span> <span class='va'><a href='SurveyData.html'>SurveyData</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='va'>shape_survey</span>,
  questions <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    age <span class='op'>=</span> <span class='st'>"Please identify your age group"</span>,
    gender <span class='op'>=</span> <span class='st'>"Please select your gender"</span>,
    vote_for <span class='op'>=</span> <span class='st'>"Which party did you vote for in the 2018 election?"</span>,
    y <span class='op'>=</span> <span class='st'>"If today is the election day, would you vote for the Box Party?"</span>
  <span class='op'>)</span>,
  responses <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    age <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>shape_survey</span><span class='op'>$</span><span class='va'>age</span><span class='op'>)</span>,
    gender <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>shape_survey</span><span class='op'>$</span><span class='va'>gender</span><span class='op'>)</span>,
    vote_for <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>shape_survey</span><span class='op'>$</span><span class='va'>vote_for</span><span class='op'>)</span>,
    y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"no"</span>,<span class='st'>"yes"</span><span class='op'>)</span>
  <span class='op'>)</span>,
  weights <span class='op'>=</span> <span class='st'>"wt"</span>,
  design <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>ids <span class='op'>=</span><span class='op'>~</span><span class='fl'>1</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='va'>box_prefs</span><span class='op'>$</span><span class='fu'>print</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Survey with 500 observations, 4 questions 
#&gt; Independent Sampling design (with replacement) 
#&gt; 
#&gt; Column label: age 
#&gt; Question: Please identify your age group 
#&gt; Allowed answers: 18-25, 26-35, 36-45, 46-55, 56-65, 66-75, 76-90 
#&gt; 
#&gt; Column label: gender 
#&gt; Question: Please select your gender 
#&gt; Allowed answers: male, female, nonbinary 
#&gt; 
#&gt; Column label: vote_for 
#&gt; Question: Which party did you vote for in the 2018 election? 
#&gt; Allowed answers: Box Party, BP, Circle Party, CP 
#&gt; 
#&gt; Column label: y 
#&gt; Question: If today is the election day, would you vote for the Box Party? 
#&gt; Allowed answers: no, yes </div><div class='input'><span class='va'>box_prefs</span><span class='op'>$</span><span class='fu'>n_questions</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 4</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>approx_voters_popn</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   age_group gender vote_pref        wt       education state
#&gt; 1       66+      m        BP  6.007461 4-years college     A
#&gt; 2     56-65      f        CP  8.465851     high school     A
#&gt; 3     56-65      m        CP  4.098878 4-years college     C
#&gt; 4       66+      m        BP  3.883250 4-years college     C
#&gt; 5       66+      f        CP 16.179562    some college     B
#&gt; 6     18-35      m        BP  3.851837     high school     D</div><div class='input'><span class='va'>popn_obj</span> <span class='op'>&lt;-</span> <span class='va'><a href='SurveyData.html'>SurveyData</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='va'>approx_voters_popn</span>,
  questions <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    age_group <span class='op'>=</span> <span class='st'>"Which age group are you?"</span>,
    gender <span class='op'>=</span> <span class='st'>"Gender?"</span>,
    vote_pref <span class='op'>=</span> <span class='st'>"Which party do you prefer to vote for?"</span>
  <span class='op'>)</span>,
  <span class='co'># order doesn't matter (gender before age2 here) because</span>
  <span class='co'># the list has the names of the variables</span>
  responses <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    gender <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>approx_voters_popn</span><span class='op'>$</span><span class='va'>gender</span><span class='op'>)</span>,
    age_group <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>approx_voters_popn</span><span class='op'>$</span><span class='va'>age_group</span><span class='op'>)</span>,
    vote_pref <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>approx_voters_popn</span><span class='op'>$</span><span class='va'>vote_pref</span><span class='op'>)</span>
  <span class='op'>)</span>,
  weights <span class='op'>=</span> <span class='st'>"wt"</span>
<span class='op'>)</span>
<span class='va'>popn_obj</span><span class='op'>$</span><span class='fu'>print</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Survey with 5000 observations, 3 questions 
#&gt; Independent Sampling design (with replacement) 
#&gt; 
#&gt; Column label: age_group 
#&gt; Question: Which age group are you? 
#&gt; Allowed answers: 18-35, 36-55, 56-65, 66+ 
#&gt; 
#&gt; Column label: gender 
#&gt; Question: Gender? 
#&gt; Allowed answers: m, f, nb 
#&gt; 
#&gt; Column label: vote_pref 
#&gt; Question: Which party do you prefer to vote for? 
#&gt; Allowed answers: BP, CP </div><div class='input'>
<span class='va'>q_age</span> <span class='op'>&lt;-</span> <span class='va'><a href='QuestionMap.html'>QuestionMap</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>
  name <span class='op'>=</span> <span class='st'>"age"</span>,
  col_names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"age"</span>,<span class='st'>"age_group"</span><span class='op'>)</span>,
  values_map <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='st'>"18-25"</span> <span class='op'>=</span> <span class='st'>"18-35"</span>, <span class='st'>"26-35"</span> <span class='op'>=</span> <span class='st'>"18-35"</span>,<span class='st'>"36-45"</span> <span class='op'>=</span> <span class='st'>"36-55"</span>,
    <span class='st'>"46-55"</span> <span class='op'>=</span> <span class='st'>"36-55"</span>, <span class='st'>"56-65"</span> <span class='op'>=</span> <span class='st'>"56-65"</span>, <span class='st'>"66-75"</span> <span class='op'>=</span> <span class='st'>"66+"</span>, <span class='st'>"76-90"</span> <span class='op'>=</span> <span class='st'>"66+"</span>
  <span class='op'>)</span>
<span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>q_age</span><span class='op'>)</span>
</div><div class='output co'>#&gt; -------------- 
#&gt; age 
#&gt; age = age_group 
#&gt; -------------- 
#&gt; 18-25 = 18-35 
#&gt; 26-35 = 18-35 
#&gt; 36-45 = 36-55 
#&gt; 46-55 = 36-55 
#&gt; 56-65 = 56-65 
#&gt; 66-75 = 66+ 
#&gt; 76-90 = 66+ </div><div class='input'>
<span class='va'>q_party_pref</span> <span class='op'>&lt;-</span> <span class='va'><a href='QuestionMap.html'>QuestionMap</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>
  name <span class='op'>=</span> <span class='st'>"party_pref"</span>,
  col_names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"vote_for"</span>,<span class='st'>"vote_pref"</span><span class='op'>)</span>,
  values_map <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"Box Party"</span> <span class='op'>=</span> <span class='st'>"BP"</span>,  <span class='st'>"BP"</span> <span class='op'>=</span> <span class='st'>"BP"</span>,<span class='st'>"Circle Party"</span> <span class='op'>=</span> <span class='st'>"CP"</span>, <span class='st'>"CP"</span> <span class='op'>=</span> <span class='st'>"CP"</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='va'>q_gender</span> <span class='op'>&lt;-</span> <span class='va'><a href='QuestionMap.html'>QuestionMap</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>
  name <span class='op'>=</span> <span class='st'>"gender"</span>,
  col_names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"gender"</span>, <span class='st'>"gender"</span><span class='op'>)</span>,
  values_map <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"male"</span> <span class='op'>=</span> <span class='st'>"m"</span>,<span class='st'>"female"</span> <span class='op'>=</span> <span class='st'>"f"</span>, <span class='st'>"nonbinary"</span> <span class='op'>=</span> <span class='st'>"nb"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='co'># Create SurveyMap object adding all questions at once</span>
<span class='va'>ex_map</span> <span class='op'>&lt;-</span> <span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>
  sample <span class='op'>=</span> <span class='va'>box_prefs</span>,
  population <span class='op'>=</span> <span class='va'>popn_obj</span>,
  <span class='va'>q_age</span>,
  <span class='va'>q_party_pref</span>,
  <span class='va'>q_gender</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Variable(s) 'education', 'state' are available in the population but won't be used in the model </span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>ex_map</span><span class='op'>)</span> <span class='co'># or ex_map$print()</span>
</div><div class='output co'>#&gt; ============== 
#&gt; age = age_group 
#&gt; -------------- 
#&gt; 18-25 = 18-35 
#&gt; 26-35 = 18-35 
#&gt; 36-45 = 36-55 
#&gt; 46-55 = 36-55 
#&gt; 56-65 = 56-65 
#&gt; 66-75 = 66+ 
#&gt; 76-90 = 66+ 
#&gt; ============== 
#&gt; vote_for = vote_pref 
#&gt; -------------- 
#&gt; Box Party = BP 
#&gt; BP = BP 
#&gt; Circle Party = CP 
#&gt; CP = CP 
#&gt; ============== 
#&gt; gender = gender 
#&gt; -------------- 
#&gt; male = m 
#&gt; female = f 
#&gt; nonbinary = nb </div><div class='input'>
<span class='co'># Or can add questions incrementally</span>
<span class='va'>ex_map</span> <span class='op'>&lt;-</span> <span class='va'>SurveyMap</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>sample <span class='op'>=</span> <span class='va'>box_prefs</span>, population <span class='op'>=</span> <span class='va'>popn_obj</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>ex_map</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ============== 
#&gt; empty mapping </div><div class='input'>
<span class='va'>ex_map</span><span class='op'>$</span><span class='fu'>add</span><span class='op'>(</span><span class='va'>q_age</span>, <span class='va'>q_party_pref</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Variable(s) 'gender', 'education', 'state' are available in the population but won't be used in the model </span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>ex_map</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ============== 
#&gt; age = age_group 
#&gt; -------------- 
#&gt; 18-25 = 18-35 
#&gt; 26-35 = 18-35 
#&gt; 36-45 = 36-55 
#&gt; 46-55 = 36-55 
#&gt; 56-65 = 56-65 
#&gt; 66-75 = 66+ 
#&gt; 76-90 = 66+ 
#&gt; ============== 
#&gt; vote_for = vote_pref 
#&gt; -------------- 
#&gt; Box Party = BP 
#&gt; BP = BP 
#&gt; Circle Party = CP 
#&gt; CP = CP </div><div class='input'>
<span class='va'>ex_map</span><span class='op'>$</span><span class='fu'>add</span><span class='op'>(</span><span class='va'>q_gender</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Variable(s) 'education', 'state' are available in the population but won't be used in the model </span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>ex_map</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ============== 
#&gt; age = age_group 
#&gt; -------------- 
#&gt; 18-25 = 18-35 
#&gt; 26-35 = 18-35 
#&gt; 36-45 = 36-55 
#&gt; 46-55 = 36-55 
#&gt; 56-65 = 56-65 
#&gt; 66-75 = 66+ 
#&gt; 76-90 = 66+ 
#&gt; ============== 
#&gt; vote_for = vote_pref 
#&gt; -------------- 
#&gt; Box Party = BP 
#&gt; BP = BP 
#&gt; Circle Party = CP 
#&gt; CP = CP 
#&gt; ============== 
#&gt; gender = gender 
#&gt; -------------- 
#&gt; male = m 
#&gt; female = f 
#&gt; nonbinary = nb </div><div class='input'>
<span class='co'># Create the mapping between sample and population</span>
<span class='va'>ex_map</span><span class='op'>$</span><span class='fu'>mapping</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Create the poststratification data frame using all variables in the mapping</span>
<span class='co'># (alternatively, can specify particular variables, e.g. tabulate("age"))</span>
<span class='va'>ex_map</span><span class='op'>$</span><span class='fu'>tabulate</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Example rstanarm usage</span>
<span class='co'># Returns a SurveyFit object</span>
<span class='va'>fit_1</span> <span class='op'>&lt;-</span> <span class='va'>ex_map</span><span class='op'>$</span><span class='fu'>fit</span><span class='op'>(</span>
  fun <span class='op'>=</span> <span class='fu'>rstanarm</span><span class='fu'>::</span><span class='va'><a href='https://mc-stan.org/rstanarm/reference/stan_glmer.html'>stan_glmer</a></span>,
  formula <span class='op'>=</span> <span class='va'>y</span> <span class='op'>~</span> <span class='op'>(</span><span class='fl'>1</span><span class='op'>|</span><span class='va'>age</span><span class='op'>)</span> <span class='op'>+</span> <span class='op'>(</span><span class='fl'>1</span><span class='op'>|</span><span class='va'>gender</span><span class='op'>)</span>,
  family <span class='op'>=</span> <span class='st'>"binomial"</span>,
  seed <span class='op'>=</span> <span class='fl'>1111</span>,
  <span class='co'># just to keep the example fast and small</span>
  chains <span class='op'>=</span> <span class='fl'>1</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'bernoulli' NOW (CHAIN 1).
#&gt; Chain 1: 
#&gt; Chain 1: Gradient evaluation took 0.000255 seconds
#&gt; Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 2.55 seconds.
#&gt; Chain 1: Adjust your expectations accordingly!
#&gt; Chain 1: 
#&gt; Chain 1: 
#&gt; Chain 1: Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1: Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1: Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1: Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1: Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1: Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1: Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1: Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1: Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1: Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1: Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1: Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt; Chain 1: 
#&gt; Chain 1:  Elapsed Time: 4.85325 seconds (Warm-up)
#&gt; Chain 1:                4.92033 seconds (Sampling)
#&gt; Chain 1:                9.77358 seconds (Total)
#&gt; Chain 1: </div><div class='input'>
<span class='co'># Example lme4 usage</span>
<span class='co'># fit_2 &lt;- ex_map$fit(</span>
<span class='co'>#   fun = lme4::glmer,</span>
<span class='co'>#   formula = y ~ (1|age) + (1|gender),</span>
<span class='co'>#   family = "binomial"</span>
<span class='co'># )</span>
<span class='co'>#</span>
<span class='co'># Example brms usage</span>
<span class='co'># fit_3 &lt;- ex_map$fit(</span>
<span class='co'>#   fun = brms::brm,</span>
<span class='co'>#   formula = y ~ (1|age) + (1|gender),</span>
<span class='co'>#   family = "bernoulli",</span>
<span class='co'>#   seed = 1111</span>
<span class='co'># )</span>


<span class='co'># predicted probabilities</span>
<span class='co'># returns matrix with rows for poststrat cells, cols for posterior draws</span>
<span class='va'>poststrat_estimates</span> <span class='op'>&lt;-</span> <span class='va'>fit_1</span><span class='op'>$</span><span class='fu'>population_predict</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># estimates by age level</span>
<span class='va'>estimates_by_age</span> <span class='op'>&lt;-</span> <span class='va'>fit_1</span><span class='op'>$</span><span class='fu'>aggregate</span><span class='op'>(</span><span class='va'>poststrat_estimates</span>, by <span class='op'>=</span> <span class='st'>"age"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>estimates_by_age</span><span class='op'>)</span>
</div><div class='output co'>#&gt;             age draw     value
#&gt; 1 18-25 + 26-35    1 0.7584347
#&gt; 2 36-45 + 46-55    1 0.7567402
#&gt; 3         56-65    1 0.7712137
#&gt; 4 66-75 + 76-90    1 0.7644404
#&gt; 5 18-25 + 26-35    2 0.7344509
#&gt; 6 36-45 + 46-55    2 0.7304963</div><div class='input'><span class='va'>estimates_by_age</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>age</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarize</a></span><span class='op'>(</span>mean <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span>, sd <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/sd.html'>sd</a></span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 4 x 3</span>
#&gt;   age            mean     sd
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;fct&gt;</span>         <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> 18-25 + 26-35 0.707 0.061<span style='text-decoration: underline;'>6</span>
#&gt; <span style='color: #BCBCBC;'>2</span> 36-45 + 46-55 0.762 0.030<span style='text-decoration: underline;'>8</span>
#&gt; <span style='color: #BCBCBC;'>3</span> 56-65         0.753 0.027<span style='text-decoration: underline;'>9</span>
#&gt; <span style='color: #BCBCBC;'>4</span> 66-75 + 76-90 0.731 0.033<span style='text-decoration: underline;'>4</span></div><div class='input'>
<span class='co'># plot estimates by age</span>
<span class='va'>fit_1</span><span class='op'>$</span><span class='fu'>plot</span><span class='op'>(</span><span class='va'>estimates_by_age</span>, weights <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='img'><img src='SurveyMap-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='va'>fit_1</span><span class='op'>$</span><span class='fu'>plot</span><span class='op'>(</span><span class='va'>estimates_by_age</span>, weights <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='img'><img src='SurveyMap-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># population estimate</span>
<span class='va'>estimates_popn</span> <span class='op'>&lt;-</span> <span class='va'>fit_1</span><span class='op'>$</span><span class='fu'>aggregate</span><span class='op'>(</span><span class='va'>poststrat_estimates</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>estimates_popn</span><span class='op'>$</span><span class='va'>value</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 0.7427626</div><div class='input'>
<span class='co'># plot population estimate</span>
<span class='va'>fit_1</span><span class='op'>$</span><span class='fu'>plot</span><span class='op'>(</span><span class='va'>estimates_popn</span>, weights <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='img'><img src='SurveyMap-3.png' alt='' width='700' height='433' /></div><div class='input'><span class='va'>fit_1</span><span class='op'>$</span><span class='fu'>plot</span><span class='op'>(</span><span class='va'>estimates_popn</span>, weights <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='img'><img src='SurveyMap-4.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Lauren Kennedy, Jonah Gabry, Mitzi Morris, Dewi Amaliah, Rohan Alexander.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


